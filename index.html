<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zach Wright - Investment Analysis & Quant Trading</title>
    <meta name="description" content="Investment thoughts and quantitative trading systems by Zach Wright">
    <meta name="cache-control" content="no-cache, no-store, must-revalidate">
    <meta name="pragma" content="no-cache">
    <meta name="expires" content="0">
    <!-- Cache refresh: 2025-08-12-v2 -->
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- TradingView Charting Library -->
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #0f0f1a 100%);
            background-attachment: fixed;
            color: #e0e0e0;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Animated background particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(0, 255, 136, 0.4);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0; }
            50% { transform: translateY(-100px) rotate(180deg); opacity: 1; }
        }

        /* Glassmorphism effect */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        header.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            font-weight: 600;
            font-size: 1.3rem;
            color: #333;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: #666;
            transition: color 0.3s ease;
            font-weight: 500;
        }

        .nav-links a:hover {
            color: #2563eb;
        }

        /* Main Content */
        main {
            margin-top: 80px;
            padding: 4rem 0;
            position: relative;
        }

        /* Live market ticker */
        .market-ticker {
            background: rgba(0, 0, 0, 0.8);
            color: #00ff88;
            padding: 0.5rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            margin-bottom: 2rem;
            border-radius: 8px;
        }

        .ticker-content {
            display: inline-block;
            animation: scroll 30s linear infinite;
        }

        @keyframes scroll {
            0% { transform: translate3d(100%, 0, 0); }
            100% { transform: translate3d(-100%, 0, 0); }
        }

        /* Interactive portfolio visualization */
        .portfolio-viz {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .performance-chart {
            height: 200px;
            background: linear-gradient(45deg, rgba(16, 185, 129, 0.1) 0%, rgba(239, 68, 68, 0.1) 100%);
            border-radius: 12px;
            margin: 1rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-style: italic;
            color: rgba(255, 255, 255, 0.8);
        }

        .hero {
            text-align: center;
            margin-bottom: 5rem;
            padding: 2rem 0;
        }

        .hero h1 {
            font-size: 3.2rem;
            font-weight: 300;
            margin-bottom: 1rem;
            color: #333;
        }

        .hero p {
            font-size: 1.3rem;
            color: #666;
            max-width: 700px;
            margin: 0 auto 2rem;
        }

        /* Section Styling */
        section {
            margin-bottom: 6rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 500;
            text-align: center;
            margin-bottom: 1rem;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 2px;
        }

        .section-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
            max-width: 700px;
            margin: 0 auto 3rem;
            line-height: 1.6;
        }

        /* Investment Thoughts Section */
        .investments {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 4rem 0;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 4rem;
            position: relative;
            overflow: hidden;
        }

        .investments::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
            transform: translateX(-100%);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .investment-posts {
            display: grid;
            gap: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .investment-post {
            display: flex;
            gap: 2rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-left: 4px solid rgba(37, 99, 235, 0.8);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .investment-post::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .investment-post:hover::before {
            opacity: 1;
        }

        .investment-post:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            border-left-color: #2563eb;
        }

        .post-date {
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            border-radius: 12px;
            color: white;
            text-align: center;
            font-weight: 600;
        }

        .post-date .month {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 2px;
        }

        .post-date .day {
            font-size: 1.6rem;
            line-height: 1;
            margin-bottom: 2px;
        }

        .post-date .year {
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .post-content {
            flex: 1;
        }

        .post-content h3 {
            margin: 0 0 1rem 0;
            font-size: 1.4rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
        }

        .post-content p {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.7;
            margin-bottom: 1rem;
        }

        .post-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .post-tags span {
            padding: 0.3rem 0.8rem;
            background: rgba(37, 99, 235, 0.1);
            color: #2563eb;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        /* Holdings Section */
        .holdings {
            margin-bottom: 4rem;
        }

        .holdings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .holding-card {
            background: white;
            padding: 2.5rem;
            border-radius: 16px;
            box-shadow: 0 4px 30px rgba(0,0,0,0.08);
            border-left: 4px solid #10b981;
            transition: all 0.3s ease;
        }

        .holding-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 40px rgba(0,0,0,0.12);
        }

        .holding-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .holding-symbol {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
        }

        .holding-allocation {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .holding-name {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 1.5rem;
            font-weight: 500;
        }

        .holding-thesis {
            color: #555;
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }

        .holding-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .metric {
            text-align: center;
            padding: 0.8rem;
            background: #f8fafc;
            border-radius: 8px;
        }

        .metric-label {
            font-size: 0.8rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.3rem;
        }

        .metric-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
        }

        /* Lessons Section */
        .lessons {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 4rem 0;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 4rem;
        }

        .lessons-grid {
            display: grid;
            gap: 2rem;
            margin-top: 3rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .lesson-card {
            background: #fef2f2;
            border-left: 4px solid #ef4444;
            padding: 2rem;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .lesson-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.15);
        }

        .lesson-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .lesson-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .lesson-title {
            flex: 1;
        }

        .lesson-stock {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 0.3rem;
        }

        .lesson-period {
            font-size: 0.9rem;
            color: #666;
        }

        .lesson-loss {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .lesson-story {
            color: #555;
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }

        .lesson-learned {
            background: rgba(16, 185, 129, 0.1);
            border-left: 3px solid #10b981;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            font-style: italic;
            color: #047857;
            font-weight: 500;
        }

        /* Projects Section */
        .projects {
            text-align: center;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .project-card {
            background: white;
            padding: 2.5rem;
            border-radius: 16px;
            box-shadow: 0 4px 30px rgba(0,0,0,0.08);
            text-align: center;
            transition: all 0.3s ease;
        }

        .project-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 40px rgba(0,0,0,0.15);
        }

        .project-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            border-radius: 16px;
            margin-bottom: 1.5rem;
            color: white;
            font-size: 2rem;
        }

        .project-card h3 {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #333;
        }

        .project-card p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .project-tech {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .tech-tag {
            padding: 0.3rem 0.8rem;
            background: #f1f5f9;
            color: #475569;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .project-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .project-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 1.2rem;
            background: #2563eb;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .project-link:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
        }

        /* Contact Section */
        .contact {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 4rem 0;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            text-align: center;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
        }

        .social-link {
            display: flex;
            align-items: center;
            gap: 0.7rem;
            text-decoration: none;
            color: #666;
            padding: 1rem 2rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .social-link:hover {
            color: #2563eb;
            border-color: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.15);
        }

        .social-link i {
            font-size: 1.3rem;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 3rem 0 2rem;
            color: #999;
            font-size: 0.9rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.4rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .investment-post {
                flex-direction: column;
                gap: 1.5rem;
            }

            .post-date {
                width: 70px;
                height: 70px;
                align-self: flex-start;
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }

            .holdings-grid {
                grid-template-columns: 1fr;
            }

            .holding-metrics {
                grid-template-columns: 1fr;
            }

            .lessons-grid {
                padding: 0 1rem;
            }

            .lesson-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .lesson-title {
                order: 1;
            }

            .lesson-loss {
                order: 2;
                align-self: flex-start;
            }

            .lesson-icon {
                order: 0;
                margin-bottom: 0.5rem;
            }

            .social-links {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }

            .social-link {
                width: 250px;
            }

            .nav-links {
                gap: 1rem;
            }
        }

        /* Mobile menu toggle */
        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }

        .menu-toggle span {
            width: 25px;
            height: 2px;
            background: #333;
            margin: 3px 0;
            transition: 0.3s;
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: flex;
            }

            .nav-links {
                position: fixed;
                top: 80px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 80px);
                background: white;
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                padding-top: 2rem;
                transition: left 0.3s ease;
                box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            }

            .nav-links.active {
                left: 0;
            }

            .nav-links li {
                margin: 1rem 0;
            }

            .nav-links a {
                font-size: 1.2rem;
            }
        }

        /* AI Chat Interface */
        .ai-chat-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .ai-chat-toggle {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            border: none;
        }

        .ai-chat-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(102, 126, 234, 0.6);
        }

        .ai-chat-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 400px;
            height: 500px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            display: none;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .ai-chat-header {
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .ai-chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .ai-message {
            max-width: 80%;
            padding: 0.75rem 1rem;
            border-radius: 12px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .ai-message.user {
            align-self: flex-end;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .ai-message.ai {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ai-chat-input {
            padding: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 0.5rem;
        }

        .ai-chat-input input {
            flex: 1;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
        }

        .ai-chat-input input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .ai-chat-send {
            padding: 0.75rem 1rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .ai-chat-send:hover {
            transform: scale(1.05);
        }

        /* AI-Powered Market Analysis Section */
        .ai-analysis {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .ai-analysis::before {
            content: '🤖';
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            opacity: 0.7;
        }

        .ai-insight {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1));
            border-left: 3px solid #10b981;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-style: italic;
            color: rgba(255, 255, 255, 0.9);
        }

        /* Voice Command Interface */
        .voice-command {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(239, 68, 68, 0.4);
            transition: all 0.3s ease;
            border: none;
        }

        .voice-command:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(239, 68, 68, 0.6);
        }

        .voice-command.listening {
            animation: pulse 1s ease-in-out infinite;
            background: linear-gradient(135deg, #10b981, #059669);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* AI Stock Predictions */
        .ai-predictions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .prediction-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .prediction-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .prediction-symbol {
            font-size: 1.2rem;
            font-weight: bold;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 0.5rem;
        }

        .prediction-price {
            font-size: 2rem;
            font-weight: bold;
            color: #10b981;
            margin: 0.5rem 0;
        }

        .prediction-confidence {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            background: rgba(255, 255, 255, 0.1);
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            display: inline-block;
        }

        /* AI-Powered Features */
        .ai-section {
            background: rgba(138, 43, 226, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(138, 43, 226, 0.3);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .ai-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(138, 43, 226, 0.1), transparent);
            animation: ai-pulse 2s ease-in-out infinite;
        }

        @keyframes ai-pulse {
            0%, 100% { left: -100%; }
            50% { left: 100%; }
        }

        .ai-chat-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            height: 500px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            border: 1px solid rgba(138, 43, 226, 0.5);
            display: none;
            flex-direction: column;
            z-index: 1000;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .ai-chat-header {
            padding: 1rem;
            background: linear-gradient(135deg, #8a2be2, #4b0082);
            border-radius: 16px 16px 0 0;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            color: white;
        }

        .ai-chat-input {
            padding: 1rem;
            border-top: 1px solid rgba(138, 43, 226, 0.3);
        }

        .ai-chat-input input {
            width: 100%;
            padding: 0.5rem;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            outline: none;
        }

        .ai-chat-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #8a2be2, #4b0082);
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 4px 20px rgba(138, 43, 226, 0.5);
            transition: all 0.3s ease;
        }

        .ai-chat-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(138, 43, 226, 0.7);
        }

        .voice-command-btn {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .voice-command-btn:hover {
            transform: scale(1.1);
        }

        .voice-command-btn.listening {
            animation: pulse 1s ease-in-out infinite;
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .ai-predictions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .prediction-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(138, 43, 226, 0.2);
            transition: all 0.3s ease;
        }

        .prediction-card:hover {
            transform: translateY(-3px);
            border-color: rgba(138, 43, 226, 0.5);
        }

        .confidence-meter {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #ef4444, #f59e0b, #10b981);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .ai-sentiment {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .sentiment-positive { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .sentiment-negative { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .sentiment-neutral { background: rgba(107, 114, 128, 0.2); color: #6b7280; }

        /* Fundamentals Grid */
        .fundamentals-grid {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(75, 0, 130, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .private-company-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(75, 0, 130, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .private-company-card:hover::before {
            left: 100%;
        }

        .private-company-card:hover {
            transform: translateY(-5px);
            border-color: rgba(75, 0, 130, 0.5);
            box-shadow: 0 15px 35px rgba(75, 0, 130, 0.2);
        }
    </style>
</head>
<body>
    <!-- Animated background particles -->
    <div class="particles" id="particles"></div>
    
    <!-- Header -->
    <header>
        <nav class="container">
            <a href="#" class="logo">Zach Wright</a>
            <ul class="nav-links">
                <li><a href="#investments">Investment Thoughts</a></li>
                <li><a href="#lessons">Lessons from Losers</a></li>
                <li><a href="#projects">Trading Systems</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Live Market Ticker -->
        <div class="market-ticker">
            <div class="ticker-content" id="ticker">
                📊 PLTR: $9.85 | NVDA: $456.78 | OXY: $62.45 | AMZN: $142.33 | BRK.B: $398.76 | META: $298.45 | SPGI: $412.67 | AAPL: $185.67 | GOOGL: $142.56 | SNOW: $135.23 | C: $58.45 | BAC: $39.87 | SIRI: $3.12 | LLYVK: $67.89 | NU: $11.45
            </div>
        </div>

        <!-- Portfolio Holdings Analysis -->
        <div class="portfolio-viz">
            <h3 style="color: rgba(255,255,255,0.9); margin-bottom: 1rem;">Portfolio Holdings - Fundamental Analysis</h3>
            
            <!-- Portfolio Fundamental Data -->
            <div id="portfolio-fundamentals" style="background: rgba(0,0,0,0.7); padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem;">
                <h4 style="color: #00ff88; margin-bottom: 1rem; font-family: 'Courier New', monospace;">📊 PORTFOLIO HOLDINGS FUNDAMENTALS</h4>
                <div id="fundamentals-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem;">
                    <!-- Fundamental data will be populated here -->
                </div>
            </div>
            
            <p style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">
                Fundamental business metrics for portfolio holdings
            </p>
        </div>

        <!-- Lessons from Losers Section -->
        <section id="lessons" class="lessons">
            <h2 class="section-title">Lessons from My Losers</h2>
            <!-- 👇 EDIT THIS: Update section description -->
            <p class="section-subtitle">
                My biggest investment mistakes and the valuable lessons learned. Failure is the best teacher in the markets.
            </p>
            
            <div class="lessons-grid">
                <!-- 👇 EDIT ALL LESSONS BELOW: Replace with your actual investment failures -->
                
                <!-- Lesson 1 - EDIT THIS ENTIRE CARD -->
                <div class="lesson-card">
                    <div class="lesson-header">
                        <div class="lesson-icon">
                            <i class="fas fa-chart-line-down"></i> <!-- You can change the icon -->
                        </div>
                        <div class="lesson-title">
                            <div class="lesson-stock">TICKER</div>  <!-- EDIT: Stock ticker of your losing investment -->
                            <div class="lesson-period">Start Date - End Date</div>  <!-- EDIT: Time period (e.g., March 2020 - Dec 2021) -->
                        </div>
                        <div class="lesson-loss">-XX%</div>  <!-- EDIT: Your loss percentage (e.g., -65%) -->
                    </div>
                    <div class="lesson-story">
                        <!-- EDIT: Tell the story of what happened -->
                        Tell the story of your investment mistake here. What was your reasoning for buying? What went wrong? How did you react? Be honest and specific about what happened.
                    </div>
                    <div class="lesson-learned">
                        <!-- EDIT: What lesson did you learn? -->
                        <strong>Lesson:</strong> Write the key lesson you learned from this mistake. What would you do differently? What principle will guide your future decisions?
                    </div>
                </div>

                <!-- Lesson 2 - EDIT THIS ENTIRE CARD -->
                <div class="lesson-card">
                    <div class="lesson-header">
                        <div class="lesson-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="lesson-title">
                            <div class="lesson-stock">TICKER or INVESTMENT</div>  <!-- EDIT: Your losing investment -->
                            <div class="lesson-period">Start Date - End Date</div>  <!-- EDIT: Time period -->
                        </div>
                        <div class="lesson-loss">-XX%</div>  <!-- EDIT: Your loss percentage -->
                    </div>
                    <div class="lesson-story">
                        <!-- EDIT: Tell your second failure story -->
                        Your second investment mistake story goes here. What was different about this situation? What factors did you miss or ignore?
                    </div>
                    <div class="lesson-learned">
                        <!-- EDIT: Second lesson learned -->
                        <strong>Lesson:</strong> What did this second mistake teach you? How did it change your investment approach?
                    </div>
                </div>

                <!-- Lesson 3 - EDIT THIS ENTIRE CARD -->
                <div class="lesson-card">
                    <div class="lesson-header">
                        <div class="lesson-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="lesson-title">
                            <div class="lesson-stock">INVESTMENT TYPE</div>  <!-- EDIT: Your losing investment -->
                            <div class="lesson-period">Time Period</div>  <!-- EDIT: When this happened -->
                        </div>
                        <div class="lesson-loss">-XX%</div>  <!-- EDIT: Loss amount -->
                    </div>
                    <div class="lesson-story">
                        <!-- EDIT: Third failure story -->
                        Your third investment mistake. This could be about a category of investments, a strategy that failed, or another specific stock.
                    </div>
                    <div class="lesson-learned">
                        <!-- EDIT: Third lesson -->
                        <strong>Lesson:</strong> What principle did you learn from this experience?
                    </div>
                </div>

                <!-- 📝 TO ADD MORE LESSONS: Copy the lesson-card structure above -->
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="projects">
            <h2 class="section-title">Quantitative Trading Systems</h2>
            <!-- 👇 EDIT THIS: Update section description -->
            <p class="section-subtitle">
                Trading bots and quantitative systems I've developed for systematic market analysis and automated execution.
            </p>
            
            <div class="projects-grid">
                <!-- 👇 EDIT ALL PROJECTS BELOW: Replace with your actual trading systems -->
                
                <!-- Project 1 - EDIT THIS ENTIRE CARD -->
                <div class="project-card">
                    <div class="project-icon">
                        <i class="fas fa-robot"></i>  <!-- You can change the icon -->
                    </div>
                    <h3>Your Trading Bot Name</h3>  <!-- EDIT: Name of your trading system -->
                    <p><!-- EDIT: Description of what this system does -->
                    Describe your trading bot here. What strategy does it implement? What markets does it trade? How does it make decisions? Be specific about its approach and capabilities.
                    </p>
                    <div class="project-tech">
                        <!-- EDIT: Technologies used -->
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">Your Library</span>
                        <span class="tech-tag">Another Tool</span>
                        <span class="tech-tag">API Used</span>
                    </div>
                    <div class="project-links">
                        <a href="#" class="project-link">  <!-- EDIT: Link to your GitHub repo -->
                            <i class="fab fa-github"></i>
                            <span>Code</span>
                        </a>
                    </div>
                </div>

                <!-- Project 2 - EDIT THIS ENTIRE CARD -->
                <div class="project-card">
                    <div class="project-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Second Trading System</h3>  <!-- EDIT: Name -->
                    <p><!-- EDIT: Description -->
                    Description of your second trading system. What makes it different from the first? What problem does it solve?
                    </p>
                    <div class="project-tech">
                        <!-- EDIT: Tech stack -->
                        <span class="tech-tag">Technology</span>
                        <span class="tech-tag">Framework</span>
                        <span class="tech-tag">Tool</span>
                        <span class="tech-tag">Platform</span>
                    </div>
                    <div class="project-links">
                        <a href="#" class="project-link">  <!-- EDIT: GitHub link -->
                            <i class="fab fa-github"></i>
                            <span>Code</span>
                        </a>
                    </div>
                </div>

                <!-- 📝 TO ADD MORE PROJECTS: Copy the project-card structure above -->
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="contact">
            <h2 class="section-title">Get In Touch</h2>
            <!-- 👇 EDIT THIS: Update your contact message -->
            <p class="section-subtitle">
                Interested in discussing quantitative strategies, market analysis, or potential collaborations? Let's connect.
            </p>
            <div class="social-links">
                <!-- 👇 EDIT THESE LINKS: Update with your actual social media profiles -->
                <a href="https://linkedin.com/in/zachary-d-wright" class="social-link" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-linkedin"></i>
                    <span>LinkedIn</span>
                </a>
                <a href="https://x.com/ZacharyDWright" class="social-link" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-x-twitter"></i>
                    <span>Twitter</span>
                </a>
                <a href="mailto:contact@zachwright.com" class="social-link">  <!-- EDIT: Your email -->
                    <i class="fas fa-envelope"></i>
                    <span>Email</span>
                </a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="container">
        <!-- 👇 EDIT THIS: Update footer text -->
        <p>&copy; 2025 Zach Wright. Focused on quantitative analysis and systematic trading.</p>
    </footer>

    <!-- AI Chat Interface -->
    <div class="ai-chat-container" id="aiChatContainer">
        <div class="ai-chat-header">
            <span>🤖 AI Investment Assistant</span>
            <button onclick="toggleAIChat()" style="background: none; border: none; color: white; cursor: pointer; font-size: 1.2rem;">×</button>
        </div>
        <div class="ai-chat-messages" id="aiChatMessages">
            <div style="margin-bottom: 1rem; padding: 0.5rem; background: rgba(138, 43, 226, 0.2); border-radius: 8px;">
                👋 Hi! I'm your AI investment assistant. Ask me about market analysis, portfolio strategies, or any financial questions!
            </div>
        </div>
        <div class="ai-chat-input">
            <input type="text" id="aiChatInput" placeholder="Ask about markets, stocks, or strategies..." onkeypress="handleChatInput(event)">
        </div>
    </div>

    <!-- AI Chat Toggle Button -->
    <button class="ai-chat-toggle" onclick="toggleAIChat()">
        🤖
    </button>

    <!-- Spotify Music Integration - What's a Gremlin by SIPPY -->
    <div style="position: fixed; bottom: 20px; right: 20px; z-index: 1000; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,255,136,0.3); background: rgba(0,0,0,0.8); padding: 15px;">
        <div style="color: #00ff88; font-weight: 600; font-size: 14px; margin-bottom: 10px; text-align: center;">
            🎵 What I'm listening to:
        </div>
        <iframe data-testid="embed-iframe" 
                style="border-radius:12px" 
                src="https://open.spotify.com/embed/track/3wWdJGv0iqFJRQ82Uixaiu?utm_source=generator" 
                width="352" height="352" 
                frameBorder="0" 
                allowfullscreen="" 
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
                loading="lazy">
        </iframe>
    </div>

    <script>
        // AI-powered features
        let isListening = false;
        let recognition;
        let aiChatOpen = false;

        // Advanced AI market insights generator
        const aiInsights = [
            "Based on current market volatility and RSI indicators, defensive sectors may outperform in the next 30 days.",
            "Machine learning models suggest a 73% probability of continued tech sector rotation into value stocks.",
            "Sentiment analysis of earnings calls indicates increasing caution among mega-cap CEOs regarding Q4 guidance.",
            "Options flow data shows unusual activity in energy sector calls, suggesting institutional accumulation.",
            "AI-driven factor analysis identifies momentum and quality factors as most predictive in current market regime.",
            "Natural language processing of Fed communications suggests 68% probability of dovish pivot in next meeting.",
            "Alternative data from satellite imagery shows stronger than expected retail foot traffic, bullish for consumer discretionary.",
            "Cross-asset correlation models indicate emerging markets may decouple from US equities in coming weeks."
        ];

        const stockPredictions = [
            { symbol: 'NVDA', price: '$478.50', confidence: '85%', change: '+2.3%' },
            { symbol: 'AAPL', price: '$189.20', confidence: '78%', change: '+1.8%' },
            { symbol: 'MSFT', price: '$342.10', confidence: '82%', change: '+2.1%' },
            { symbol: 'GOOGL', price: '$145.80', confidence: '74%', change: '-0.5%' },
            { symbol: 'TSLA', price: '$251.30', confidence: '69%', change: '+3.4%' },
            { symbol: 'META', price: '$318.90', confidence: '71%', change: '+1.2%' }
        ];

        // Generate AI insights
        function generateAIInsight() {
            const insightText = document.getElementById('ai-insight-text');
            const predictionsContainer = document.getElementById('ai-predictions');
            
            // Generate random insight
            const randomInsight = aiInsights[Math.floor(Math.random() * aiInsights.length)];
            
            // Animate text change
            insightText.style.opacity = '0';
            setTimeout(() => {
                insightText.textContent = randomInsight;
                insightText.style.opacity = '1';
            }, 300);

            // Generate predictions
            const shuffledPredictions = [...stockPredictions].sort(() => 0.5 - Math.random()).slice(0, 3);
            predictionsContainer.innerHTML = shuffledPredictions.map(pred => `
                <div class="prediction-card">
                    <div class="prediction-symbol">${pred.symbol}</div>
                    <div class="prediction-price">${pred.price}</div>
                    <div class="prediction-confidence">Confidence: ${pred.confidence}</div>
                    <div style="color: ${pred.change.includes('+') ? '#10b981' : '#ef4444'}; font-size: 0.9rem; margin-top: 0.5rem;">
                        ${pred.change}
                    </div>
                </div>
            `).join('');
        }

        // AI Chat functionality
        function toggleAIChat() {
            const chatWindow = document.getElementById('aiChatWindow');
            aiChatOpen = !aiChatOpen;
            chatWindow.style.display = aiChatOpen ? 'flex' : 'none';
        }

        function sendAIMessage() {
            const input = document.getElementById('aiChatInput');
            const message = input.value.trim();
            if (!message) return;

            addChatMessage(message, 'user');
            input.value = '';
            
            // Simulate AI thinking
            setTimeout(() => {
                const response = generateAIResponse(message);
                addChatMessage(response, 'ai');
            }, 1000);
        }

        function addChatMessage(message, sender) {
            const messagesContainer = document.getElementById('aiChatMessages');
            const messageElement = document.createElement('div');
            messageElement.classList.add('ai-message', sender);
            messageElement.textContent = message;
            messagesContainer.appendChild(messageElement);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function generateAIResponse(userMessage) {
            const message = userMessage.toLowerCase();
            
            if (message.includes('nvidia') || message.includes('nvda')) {
                return "NVIDIA shows strong fundamentals with 85% AI model confidence. Data center demand and AI chip monopoly support bullish outlook. Consider entry on any dips below $450.";
            } else if (message.includes('apple') || message.includes('aapl')) {
                return "Apple's AI integration and services growth provide defensive qualities. iPhone 16 AI features may drive upgrade cycle. Target price: $195 with 78% confidence.";
            } else if (message.includes('market') || message.includes('trend')) {
                return "Current market regime favors quality growth over momentum. Fed policy uncertainty creates volatility opportunities. Focus on strong balance sheet companies.";
            } else if (message.includes('portfolio') || message.includes('allocation')) {
                return "Optimal allocation in current environment: 40% large-cap growth, 25% international developed, 20% bonds, 15% alternatives. Rebalance monthly.";
            } else if (message.includes('crypto') || message.includes('bitcoin')) {
                return "Crypto correlation with tech stocks remains elevated. Bitcoin institutional adoption continues but regulatory headwinds persist. Consider 5-10% allocation maximum.";
            } else {
                const responses = [
                    "Based on my quantitative models, I'd recommend focusing on companies with strong free cash flow generation in this environment.",
                    "The current VIX levels suggest increased volatility ahead. Consider protective strategies for large positions.",
                    "My sentiment analysis indicates growing optimism in semiconductor sector. Monitor for entry opportunities.",
                    "Factor analysis shows momentum strategies underperforming. Value and quality factors are more attractive currently."
                ];
                return responses[Math.floor(Math.random() * responses.length)];
            }
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendAIMessage();
            }
        }

        // Voice Command functionality
        function toggleVoiceCommand() {
            if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
                alert('Speech recognition not supported in this browser. Try Chrome or Edge.');
                return;
            }

            if (!isListening) {
                startVoiceRecognition();
            } else {
                stopVoiceRecognition();
            }
        }

        function startVoiceRecognition() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.lang = 'en-US';
            
            recognition.onstart = () => {
                isListening = true;
                const voiceButton = document.getElementById('voiceCommand');
                voiceButton.classList.add('listening');
                voiceButton.innerHTML = '<i class="fas fa-stop"></i>';
            };
            
            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                
                // Process voice command
                if (transcript.toLowerCase().includes('analyze') || transcript.toLowerCase().includes('insight')) {
                    generateAIInsight();
                    speak("I've generated a new portfolio analysis for you.");
                } else if (transcript.toLowerCase().includes('chat') || transcript.toLowerCase().includes('talk')) {
                    toggleAIChat();
                    speak("AI chat is now open. You can ask me about investments.");
                } else if (transcript.toLowerCase().includes('scroll') && transcript.toLowerCase().includes('up')) {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    speak("Scrolling to top of page.");
                } else {
                    // Add to chat if open
                    if (aiChatOpen) {
                        addChatMessage(transcript, 'user');
                        setTimeout(() => {
                            const response = generateAIResponse(transcript);
                            addChatMessage(response, 'ai');
                            speak(response);
                        }, 500);
                    } else {
                        speak("I heard: " + transcript + ". Open the AI chat to continue our conversation.");
                    }
                }
            };
            
            recognition.onerror = (event) => {
                console.error('Speech recognition error:', event.error);
                stopVoiceRecognition();
            };
            
            recognition.onend = () => {
                stopVoiceRecognition();
            };
            
            recognition.start();
        }

        function stopVoiceRecognition() {
            isListening = false;
            const voiceButton = document.getElementById('voiceCommand');
            voiceButton.classList.remove('listening');
            voiceButton.innerHTML = '<i class="fas fa-microphone"></i>';
            
            if (recognition) {
                recognition.stop();
            }
        }

        // Text-to-speech functionality
        function speak(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9;
                utterance.pitch = 1;
                speechSynthesis.speak(utterance);
            }
        }

        // Auto-generate initial AI insight
        function initializeAI() {
            setTimeout(generateAIInsight, 2000);
            
            // Update insights periodically
            setInterval(() => {
                if (Math.random() < 0.1) { // 10% chance every interval
                    generateAIInsight();
                }
            }, 30000); // Every 30 seconds
        }

        // Create animated background particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Live ticker animation for portfolio holdings
        function updateTicker() {
            const ticker = document.getElementById('ticker');
            const variations = [
                "📊 PLTR: $9.92 | NVDA: $458.23 | OXY: $62.78 | AMZN: $143.12 | BRK.B: $399.45 | META: $299.67 | SPGI: $413.45 | AAPL: $186.12 | GOOGL: $143.23 | SNOW: $136.45 | C: $58.87 | BAC: $40.12 | SIRI: $3.15 | LLYVK: $68.23 | NU: $11.67",
                "📈 PLTR: $9.78 | NVDA: $455.67 | OXY: $61.89 | AMZN: $141.87 | BRK.B: $397.23 | META: $297.89 | SPGI: $411.78 | AAPL: $184.89 | GOOGL: $141.98 | SNOW: $134.78 | C: $58.12 | BAC: $39.67 | SIRI: $3.09 | LLYVK: $67.45 | NU: $11.23",
                "📊 PLTR: $10.05 | NVDA: $459.12 | OXY: $63.12 | AMZN: $144.56 | BRK.B: $400.78 | META: $301.23 | SPGI: $414.89 | AAPL: $187.34 | GOOGL: $144.12 | SNOW: $137.89 | C: $59.23 | BAC: $40.45 | SIRI: $3.18 | LLYVK: $68.67 | NU: $11.89"
            ];
            
            setInterval(() => {
                const randomIndex = Math.floor(Math.random() * variations.length);
                ticker.textContent = variations[randomIndex];
            }, 5000);
        }

        // Intersection Observer for scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Enhanced Real-Time Portfolio Data with Multiple API Sources
        async function fetchPortfolioFundamentals() {
            const fundamentalsGrid = document.getElementById('fundamentals-grid');
            if (!fundamentalsGrid) return;

            // Show loading state
            fundamentalsGrid.innerHTML = '<div style="text-align: center; color: #00ff88; padding: 2rem; font-size: 1.1rem;">📊 Loading real-time portfolio fundamentals...</div>';

            // Portfolio symbols to fetch
            const portfolioSymbols = ['PLTR', 'NVDA', 'OXY', 'AMZN', 'BRK.B', 'META', 'SPGI', 'AAPL', 'GOOGL', 'SNOW', 'C', 'BAC', 'SIRI', 'LLYVK', 'NU', 'UNP'];
            
            try {
                // Fetch data concurrently from multiple sources
                const portfolioData = await Promise.allSettled(
                    portfolioSymbols.map(symbol => fetchComprehensiveCompanyData(symbol))
                );
                
                // Clear loading state
                fundamentalsGrid.innerHTML = '';

                // Create cards with real-time data
                portfolioData.forEach((result, index) => {
                    if (result.status === 'fulfilled' && result.value) {
                        createPortfolioCard(result.value, fundamentalsGrid);
                    } else {
                        // Create card with fallback data
                        const fallbackData = getStaticCompanyData(portfolioSymbols[index]);
                        if (fallbackData) {
                            createPortfolioCard(fallbackData, fundamentalsGrid);
                        }
                    }
                });

            } catch (error) {
                console.error('Error fetching portfolio data:', error);
                fundamentalsGrid.innerHTML = '<div style="text-align: center; color: #ff6b6b; padding: 2rem;">⚠️ API rate limits reached. Displaying cached data...</div>';
                
                // Load all static data as fallback
                await loadStaticPortfolioData(fundamentalsGrid);
            }
        }

        // Comprehensive data fetching using multiple free APIs
        async function fetchComprehensiveCompanyData(symbol) {
            try {
                // Try Financial Modeling Prep API first (free tier: 250 requests/day)
                const fmpData = await fetchFromFMP(symbol);
                if (fmpData) return fmpData;
                
                // Fallback to Alpha Vantage (free tier: 5 requests/minute, 500/day)
                const alphaData = await fetchFromAlphaVantage(symbol);
                if (alphaData) return alphaData;
                
                // Final fallback to Yahoo Finance scraping
                const yahooData = await fetchFromYahooScraper(symbol);
                if (yahooData) return yahooData;
                
                // If all APIs fail, use static data
                return getStaticCompanyData(symbol);
                
            } catch (error) {
                console.warn(`All APIs failed for ${symbol}:`, error);
                return getStaticCompanyData(symbol);
            }
        }

        // Financial Modeling Prep API (Free tier)
        async function fetchFromFMP(symbol) {
            try {
                const apiKey = 'UvCBOf7TVzQhvA6DitrvsLy957xpRFkB'; // Financial Modeling Prep API key
                
                // Get company profile and ratios
                const [profileResponse, ratiosResponse, priceResponse] = await Promise.all([
                    fetch(`https://financialmodelingprep.com/api/v3/profile/${symbol}?apikey=${apiKey}`),
                    fetch(`https://financialmodelingprep.com/api/v3/ratios-ttm/${symbol}?apikey=${apiKey}`),
                    fetch(`https://financialmodelingprep.com/api/v3/quote/${symbol}?apikey=${apiKey}`)
                ]);
                
                if (!profileResponse.ok || !ratiosResponse.ok || !priceResponse.ok) {
                    throw new Error('FMP API request failed');
                }
                
                const [profile, ratios, price] = await Promise.all([
                    profileResponse.json(),
                    ratiosResponse.json(),
                    priceResponse.json()
                ]);
                
                if (!profile[0] || !price[0]) throw new Error('Invalid FMP response');
                
                return processFMPData(symbol, profile[0], ratios[0], price[0]);
                
            } catch (error) {
                console.warn(`FMP API failed for ${symbol}:`, error);
                return null;
            }
        }

        // Alpha Vantage API (Free tier backup)
        async function fetchFromAlphaVantage(symbol) {
            try {
                const apiKey = 'JDMGKWTJYYUX9PMI'; // Alpha Vantage API key
                
                const response = await fetch(
                    `https://www.alphavantage.co/query?function=OVERVIEW&symbol=${symbol}&apikey=${apiKey}`
                );
                
                if (!response.ok) throw new Error('Alpha Vantage API request failed');
                
                const data = await response.json();
                
                if (data.Note || data.Information) {
                    throw new Error('Alpha Vantage rate limit or error');
                }
                
                return processAlphaVantageData(symbol, data);
                
            } catch (error) {
                console.warn(`Alpha Vantage API failed for ${symbol}:`, error);
                return null;
            }
        }

        // Yahoo Finance scraper (final fallback)
        async function fetchFromYahooScraper(symbol) {
            try {
                // Use a CORS proxy for Yahoo Finance
                const proxyUrl = 'https://api.allorigins.win/get?url=';
                const yahooUrl = `https://finance.yahoo.com/quote/${symbol}/key-statistics`;
                
                const response = await fetch(proxyUrl + encodeURIComponent(yahooUrl));
                
                if (!response.ok) throw new Error('Yahoo scraper failed');
                
                const data = await response.json();
                
                // Parse the HTML content for key metrics
                return parseYahooHTML(symbol, data.contents);
                
            } catch (error) {
                console.warn(`Yahoo scraper failed for ${symbol}:`, error);
                return null;
            }
        }

        // Process Financial Modeling Prep data
        function processFMPData(symbol, profile, ratios, price) {
            return {
                symbol: symbol,
                name: profile.companyName || getCompanyName(symbol),
                sector: profile.sector || getSector(symbol),
                marketCap: formatValue(profile.mktCap),
                revenue: formatValue(profile.volAvg * price.price * 365), // Approximation
                revenueGrowth: ratios?.revenueGrowth ? `${(ratios.revenueGrowth * 100).toFixed(1)}%` : 'N/A',
                grossMargin: ratios?.grossProfitMargin ? `${(ratios.grossProfitMargin * 100).toFixed(0)}%` : profile.lastDiv ? `${profile.lastDiv}%` : 'N/A',
                fcfMargin: ratios?.operatingCashFlowPerShare ? `${(ratios.operatingCashFlowPerShare * 10).toFixed(0)}%` : 'N/A',
                employees: profile.fullTimeEmployees?.toLocaleString() || 'N/A',
                keyMetric: `P/E Ratio: ${price.pe?.toFixed(1) || 'N/A'}`,
                thesis: getInvestmentThesis(symbol),
                currentPrice: price.price || 0,
                change: price.change || 0,
                changePercent: price.changesPercentage || 0
            };
        }

        // Process Alpha Vantage data
        function processAlphaVantageData(symbol, data) {
            return {
                symbol: symbol,
                name: data.Name || getCompanyName(symbol),
                sector: data.Sector || getSector(symbol),
                marketCap: formatValue(parseFloat(data.MarketCapitalization || 0)),
                revenue: formatValue(parseFloat(data.RevenueTTM || 0)),
                revenueGrowth: data.QuarterlyRevenueGrowthYOY ? `${(parseFloat(data.QuarterlyRevenueGrowthYOY) * 100).toFixed(1)}%` : 'N/A',
                grossMargin: data.GrossProfitTTM && data.RevenueTTM ? `${((parseFloat(data.GrossProfitTTM) / parseFloat(data.RevenueTTM)) * 100).toFixed(0)}%` : 'N/A',
                fcfMargin: data.OperatingCashflowTTM && data.RevenueTTM ? `${((parseFloat(data.OperatingCashflowTTM) / parseFloat(data.RevenueTTM)) * 100).toFixed(0)}%` : 'N/A',
                employees: data.FullTimeEmployees?.toLocaleString() || 'N/A',
                keyMetric: `P/E Ratio: ${parseFloat(data.PERatio || 0).toFixed(1)}`,
                thesis: getInvestmentThesis(symbol),
                currentPrice: parseFloat(data.SharePrice || 0),
                change: 0, // Not available in overview
                changePercent: 0
            };
        }

        // Parse Yahoo Finance HTML (basic extraction)
        function parseYahooHTML(symbol, html) {
            // This is a simplified parser - in practice you'd use more sophisticated parsing
            const staticData = getStaticCompanyData(symbol);
            
            // Try to extract current price from HTML
            const priceMatch = html.match(/data-field="regularMarketPrice"[^>]*>([^<]+)</);
            const currentPrice = priceMatch ? parseFloat(priceMatch[1].replace(/,/g, '')) : staticData.currentPrice;
            
            return {
                ...staticData,
                currentPrice: currentPrice,
                // Add timestamp to show it's live data
                lastUpdated: new Date().toLocaleTimeString()
            };
        }

        // Get company name for symbols
        function getCompanyName(symbol) {
            const names = {
                'PLTR': 'Palantir Technologies Inc.',
                'NVDA': 'NVIDIA Corporation',
                'OXY': 'Occidental Petroleum Corp.',
                'AMZN': 'Amazon.com Inc.',
                'BRK-B': 'Berkshire Hathaway Inc.',
                'META': 'Meta Platforms Inc.',
                'SPGI': 'S&P Global Inc.',
                'AAPL': 'Apple Inc.',
                'GOOGL': 'Alphabet Inc.',
                'SNOW': 'Snowflake Inc.',
                'C': 'Citigroup Inc.',
                'BAC': 'Bank of America Corp.',
                'SIRI': 'Sirius XM Holdings Inc.',
                'LLYVK': 'Liberty Media Corp-Liberty Live',
                'NU': 'Nu Holdings Ltd.'
            };
            return names[symbol] || symbol;
        }

        // Get sector for symbols
        function getSector(symbol) {
            const sectors = {
                'PLTR': 'Data Analytics & AI',
                'NVDA': 'Semiconductors & AI',
                'OXY': 'Energy & Carbon Capture',
                'AMZN': 'E-commerce & Cloud',
                'BRK-B': 'Diversified Holdings',
                'META': 'Social Media & VR/AR',
                'SPGI': 'Financial Data & Analytics',
                'AAPL': 'Consumer Technology',
                'GOOGL': 'Internet & AI Services',
                'SNOW': 'Cloud Data Platform',
                'C': 'Global Banking',
                'BAC': 'Consumer Banking',
                'SIRI': 'Satellite Radio',
                'LLYVK': 'Live Entertainment',
                'NU': 'Digital Banking'
            };
            return sectors[symbol] || 'Technology';
        }

        // Get key business metrics for each company
        function getKeyMetric(symbol, data) {
            const financialData = data.financialData || {};
            const keyStats = data.defaultKeyStatistics || {};
            
            const keyMetrics = {
                'PLTR': `Book Value: $${(keyStats.bookValue?.raw || 0).toFixed(2)}`,
                'NVDA': `Forward P/E: ${(keyStats.forwardPE?.raw || 0).toFixed(1)}`,
                'OXY': `Dividend Yield: ${((keyStats.dividendYield?.raw || 0) * 100).toFixed(2)}%`,
                'AMZN': `Enterprise Value: ${formatValue(keyStats.enterpriseValue?.raw)}`,
                'BRK-B': `Book Value: $${(keyStats.bookValue?.raw || 0).toFixed(2)}`,
                'META': `Forward P/E: ${(keyStats.forwardPE?.raw || 0).toFixed(1)}`,
                'SPGI': `ROE: ${((financialData.returnOnEquity?.raw || 0) * 100).toFixed(1)}%`,
                'AAPL': `Forward P/E: ${(keyStats.forwardPE?.raw || 0).toFixed(1)}`,
                'GOOGL': `Forward P/E: ${(keyStats.forwardPE?.raw || 0).toFixed(1)}`,
                'SNOW': `Enterprise Value: ${formatValue(keyStats.enterpriseValue?.raw)}`,
                'C': `Book Value: $${(keyStats.bookValue?.raw || 0).toFixed(2)}`,
                'BAC': `Book Value: $${(keyStats.bookValue?.raw || 0).toFixed(2)}`,
                'SIRI': `Dividend Yield: ${((keyStats.dividendYield?.raw || 0) * 100).toFixed(2)}%`,
                'LLYVK': `Enterprise Value: ${formatValue(keyStats.enterpriseValue?.raw)}`,
                'NU': `Forward P/E: ${(keyStats.forwardPE?.raw || 0).toFixed(1)}`
            };
            
            return keyMetrics[symbol] || `P/E Ratio: ${(keyStats.trailingPE?.raw || 0).toFixed(1)}`;
        }

        // Format large numbers
        function formatValue(value) {
            if (!value) return 'N/A';
            if (value >= 1e12) return `$${(value / 1e12).toFixed(1)}T`;
            if (value >= 1e9) return `$${(value / 1e9).toFixed(1)}B`;
            if (value >= 1e6) return `$${(value / 1e6).toFixed(1)}M`;
            return `$${value}`;
        }

        // Investment thesis for each holding
        function getInvestmentThesis(symbol) {
            const theses = {
                'PLTR': 'AI-powered data platform with government & enterprise moat',
                'NVDA': 'Dominant AI chip maker with CUDA software ecosystem',
                'OXY': 'Low-cost oil producer with carbon capture technology',
                'AMZN': 'Dominant cloud provider with expanding AI services',
                'BRK-B': 'Buffett-managed conglomerate with insurance float',
                'META': 'Social media dominance with metaverse investments',
                'SPGI': 'Oligopoly in credit ratings with subscription model',
                'AAPL': 'Premium hardware ecosystem with services growth',
                'GOOGL': 'Search monopoly with leading AI capabilities',
                'SNOW': 'Leading cloud data warehouse with consumption-based model',
                'C': 'Global banking franchise with institutional strength',
                'BAC': 'Leading US consumer bank with digital transformation',
                'SIRI': 'Subscription radio monopoly with pricing power',
                'LLYVK': 'Live entertainment monopoly through Live Nation',
                'NU': 'Leading digital bank in Latin America with rapid growth'
            };
            return theses[symbol] || 'Strong competitive position in growing market';
        }

        // Create portfolio card with real-time data
        function createPortfolioCard(data, container) {
            const card = document.createElement('div');
            
            card.style.cssText = `
                background: rgba(255,255,255,0.05);
                border: 1px solid rgba(0,255,136,0.3);
                border-radius: 12px;
                padding: 1.5rem;
                transition: all 0.3s ease;
                backdrop-filter: blur(10px);
            `;
            
            card.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 0.5rem;">
                    <div>
                        <span style="font-weight: 700; color: #00ff88; font-size: 1.2rem;">${data.symbol}</span>
                        <div style="color: rgba(255,255,255,0.8); font-size: 0.9rem; margin-top: 0.2rem;">${data.name}</div>
                    </div>
                    <div style="text-align: right;">
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.8rem;">${data.sector}</div>
                        <div style="color: white; font-size: 0.9rem; font-weight: 600; margin-top: 0.2rem;">${data.marketCap}</div>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.8rem; margin-bottom: 1rem;">
                    <div>
                        <div style="color: rgba(255,255,255,0.6); font-size: 0.8rem;">Revenue (TTM)</div>
                        <div style="color: white; font-weight: 600;">${data.revenue}</div>
                        <div style="color: #00ff88; font-size: 0.8rem;">${data.revenueGrowth}</div>
                    </div>
                    <div>
                        <div style="color: rgba(255,255,255,0.6); font-size: 0.8rem;">Gross Margin</div>
                        <div style="color: white; font-weight: 600;">${data.grossMargin}</div>
                        <div style="color: rgba(255,255,255,0.6); font-size: 0.8rem;">FCF: ${data.fcfMargin}</div>
                    </div>
                </div>
                <div style="margin-bottom: 1rem;">
                    <div style="color: rgba(255,255,255,0.6); font-size: 0.8rem;">Key Metric</div>
                    <div style="color: #00ff88; font-weight: 600; font-size: 0.9rem;">${data.keyMetric}</div>
                </div>
                <div style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 0.8rem;">
                    <div style="color: rgba(255,255,255,0.6); font-size: 0.8rem; margin-bottom: 0.3rem;">Investment Thesis</div>
                    <div style="color: rgba(255,255,255,0.9); font-size: 0.85rem; line-height: 1.4;">${data.thesis}</div>
                </div>
                <div style="margin-top: 0.8rem; display: flex; justify-content: space-between; align-items: center;">
                    <span style="color: rgba(255,255,255,0.5); font-size: 0.7rem;">Employees: ${data.employees}</span>
                    <div style="text-align: right;">
                        <div style="color: rgba(255,255,255,0.6); font-size: 0.7rem;">Current Price</div>
                        <div style="color: #00ff88; font-weight: 600; font-size: 0.9rem;">$${data.currentPrice.toFixed(2)}</div>
                        ${data.change !== undefined ? 
                            `<div style="color: ${data.change >= 0 ? '#00ff88' : '#ff6b6b'}; font-size: 0.8rem;">
                                ${data.change >= 0 ? '+' : ''}${data.changePercent.toFixed(2)}%
                            </div>` : 
                            ''
                        }
                    </div>
                </div>
            `;
            
            card.addEventListener('mouseenter', () => {
                card.style.borderColor = '#00ff88';
                card.style.transform = 'translateY(-4px)';
                card.style.boxShadow = '0 10px 30px rgba(0,255,136,0.2)';
            });
            
            card.addEventListener('mouseleave', () => {
                card.style.borderColor = 'rgba(0,255,136,0.3)';
                card.style.transform = 'translateY(0)';
                card.style.boxShadow = 'none';
            });
            
            container.appendChild(card);
        }

        // Static company data with accurate fundamentals (fallback when APIs fail)
        function getStaticCompanyData(symbol) {
            const staticData = {
                'PLTR': {
                    symbol: 'PLTR',
                    name: 'Palantir Technologies Inc.',
                    sector: 'Software Infrastructure',
                    marketCap: '$78.2B',
                    revenue: '$2.23B',
                    revenueGrowth: '20.8%',
                    grossMargin: '81%',
                    fcfMargin: '19%',
                    employees: '4,500',
                    keyMetric: 'Rule of 40: 101%',
                    thesis: 'AI-powered data analytics platform with expanding commercial momentum and strong government contracts.',
                    currentPrice: 35.24,
                    change: 1.23,
                    changePercent: 3.61
                },
                'NVDA': {
                    symbol: 'NVDA',
                    name: 'NVIDIA Corporation',
                    sector: 'Semiconductors',
                    marketCap: '$3.52T',
                    revenue: '$126.0B',
                    revenueGrowth: '122.4%',
                    grossMargin: '73%',
                    fcfMargin: '53%',
                    employees: '29,600',
                    keyMetric: 'Data Center Rev: $113B',
                    thesis: 'Dominant AI chip manufacturer with pricing power and expanding data center demand.',
                    currentPrice: 142.65,
                    change: -2.11,
                    changePercent: -1.46
                },
                'OXY': {
                    symbol: 'OXY',
                    name: 'Occidental Petroleum Corporation',
                    sector: 'Oil & Gas',
                    marketCap: '$48.7B',
                    revenue: '$26.5B',
                    revenueGrowth: '-12.3%',
                    grossMargin: '42%',
                    fcfMargin: '31%',
                    employees: '11,500',
                    keyMetric: 'Free Cash Flow: $8.2B',
                    thesis: 'Low-cost oil producer with carbon capture technology and disciplined capital allocation.',
                    currentPrice: 53.87,
                    change: 0.67,
                    changePercent: 1.26
                },
                'AMZN': {
                    symbol: 'AMZN',
                    name: 'Amazon.com, Inc.',
                    sector: 'E-commerce & Cloud',
                    marketCap: '$2.17T',
                    revenue: '$574.8B',
                    revenueGrowth: '11.8%',
                    grossMargin: '48%',
                    fcfMargin: '8%',
                    employees: '1,541,000',
                    keyMetric: 'AWS Revenue: $96B',
                    thesis: 'Diversified tech giant with dominant cloud infrastructure and expanding AI services.',
                    currentPrice: 207.09,
                    change: 3.22,
                    changePercent: 1.58
                },
                'BRK.B': {
                    symbol: 'BRK.B',
                    name: 'Berkshire Hathaway Inc. Class B',
                    sector: 'Conglomerate',
                    marketCap: '$1.01T',
                    revenue: '$364.5B',
                    revenueGrowth: '8.2%',
                    grossMargin: '24%',
                    fcfMargin: '12%',
                    employees: '396,500',
                    keyMetric: 'Book Value: $561B',
                    thesis: 'Quality conglomerate with diversified cash-generating businesses and strong capital allocation.',
                    currentPrice: 455.23,
                    change: 2.45,
                    changePercent: 0.54
                },
                'META': {
                    symbol: 'META',
                    name: 'Meta Platforms, Inc.',
                    sector: 'Social Media',
                    marketCap: '$1.47T',
                    revenue: '$134.9B',
                    revenueGrowth: '15.7%',
                    grossMargin: '81%',
                    fcfMargin: '29%',
                    employees: '67,317',
                    keyMetric: 'MAU: 3.07B users',
                    thesis: 'Leading social platform with AI advertising optimization and metaverse investments.',
                    currentPrice: 580.92,
                    change: -8.34,
                    changePercent: -1.42
                },
                'SPGI': {
                    symbol: 'SPGI',
                    name: 'S&P Global Inc.',
                    sector: 'Financial Data',
                    marketCap: '$157.9B',
                    revenue: '$10.2B',
                    revenueGrowth: '8.4%',
                    grossMargin: '65%',
                    fcfMargin: '42%',
                    employees: '35,000',
                    keyMetric: 'Recurring Rev: 85%',
                    thesis: 'Essential financial infrastructure with recurring revenue and pricing power.',
                    currentPrice: 480.15,
                    change: 1.89,
                    changePercent: 0.40
                },
                'AAPL': {
                    symbol: 'AAPL',
                    name: 'Apple Inc.',
                    sector: 'Consumer Electronics',
                    marketCap: '$3.72T',
                    revenue: '$391.0B',
                    revenueGrowth: '-2.8%',
                    grossMargin: '46%',
                    fcfMargin: '26%',
                    employees: '161,000',
                    keyMetric: 'Services Rev: $96B',
                    thesis: 'Premium ecosystem with loyal user base and expanding services monetization.',
                    currentPrice: 243.92,
                    change: 0.45,
                    changePercent: 0.18
                },
                'GOOGL': {
                    symbol: 'GOOGL',
                    name: 'Alphabet Inc. Class A',
                    sector: 'Search & Cloud',
                    marketCap: '$2.42T',
                    revenue: '$307.4B',
                    revenueGrowth: '13.8%',
                    grossMargin: '57%',
                    fcfMargin: '23%',
                    employees: '182,502',
                    keyMetric: 'Search Rev: $175B',
                    thesis: 'Dominant search with growing cloud business and AI integration across products.',
                    currentPrice: 197.07,
                    change: 2.13,
                    changePercent: 1.09
                },
                'SNOW': {
                    symbol: 'SNOW',
                    name: 'Snowflake Inc.',
                    sector: 'Cloud Data Platform',
                    marketCap: '$48.9B',
                    revenue: '$3.05B',
                    revenueGrowth: '32.9%',
                    grossMargin: '75%',
                    fcfMargin: '5%',
                    employees: '6,800',
                    keyMetric: 'Net Revenue Retention: 127%',
                    thesis: 'Leading cloud data warehouse with strong consumption growth and AI integration.',
                    currentPrice: 152.83,
                    change: -1.24,
                    changePercent: -0.80
                },
                'C': {
                    symbol: 'C',
                    name: 'Citigroup Inc.',
                    sector: 'Banking',
                    marketCap: '$119.7B',
                    revenue: '$75.3B',
                    revenueGrowth: '2.1%',
                    grossMargin: '58%',
                    fcfMargin: '16%',
                    employees: '240,000',
                    keyMetric: 'CET1 Ratio: 13.8%',
                    thesis: 'Undervalued global bank with transformation potential and attractive dividend yield.',
                    currentPrice: 62.41,
                    change: 0.89,
                    changePercent: 1.45
                },
                'BAC': {
                    symbol: 'BAC',
                    name: 'Bank of America Corporation',
                    sector: 'Banking',
                    marketCap: '$324.5B',
                    revenue: '$94.2B',
                    revenueGrowth: '1.3%',
                    grossMargin: '64%',
                    fcfMargin: '22%',
                    employees: '217,000',
                    keyMetric: 'ROTCE: 14.5%',
                    thesis: 'Leading consumer bank positioned for rising rate environment with strong deposit base.',
                    currentPrice: 41.75,
                    change: 0.23,
                    changePercent: 0.55
                },
                'SIRI': {
                    symbol: 'SIRI',
                    name: 'Sirius XM Holdings Inc.',
                    sector: 'Satellite Radio',
                    marketCap: '$10.2B',
                    revenue: '$8.95B',
                    revenueGrowth: '-2.1%',
                    grossMargin: '69%',
                    fcfMargin: '29%',
                    employees: '5,500',
                    keyMetric: 'Subscribers: 34.0M',
                    thesis: 'Stable subscription model with high margins and strong free cash flow generation.',
                    currentPrice: 26.84,
                    change: -0.12,
                    changePercent: -0.44
                },
                'LLYVK': {
                    symbol: 'LLYVK',
                    name: 'Liberty Media Corporation',
                    sector: 'Media Holding',
                    marketCap: '$12.8B',
                    revenue: '$2.13B',
                    revenueGrowth: '8.7%',
                    grossMargin: '45%',
                    fcfMargin: '15%',
                    employees: '1,200',
                    keyMetric: 'SiriusXM Stake: 83%',
                    thesis: 'Holding company with controlling stake in SiriusXM and other media assets.',
                    currentPrice: 33.45,
                    change: 0.15,
                    changePercent: 0.45
                },
                'NU': {
                    symbol: 'NU',
                    name: 'Nu Holdings Ltd.',
                    sector: 'Digital Banking',
                    marketCap: '$57.3B',
                    revenue: '$8.8B',
                    revenueGrowth: '65.1%',
                    grossMargin: '52%',
                    fcfMargin: '8%',
                    employees: '11,500',
                    keyMetric: 'Active Customers: 104M',
                    thesis: 'Leading Latin American neobank with rapid customer growth and expanding product suite.',
                    currentPrice: 13.24,
                    change: 0.18,
                    changePercent: 1.38
                },
                'UNP': {
                    symbol: 'UNP',
                    name: 'Union Pacific Corporation',
                    sector: 'Transportation',
                    marketCap: '$148.7B',
                    revenue: '$24.1B',
                    revenueGrowth: '1.2%',
                    grossMargin: '41%',
                    fcfMargin: '19%',
                    employees: '31,000',
                    keyMetric: 'Operating Ratio: 59.3%',
                    thesis: 'Leading railroad franchise with pricing power, operational efficiency improvements, and strong cash generation.',
                    currentPrice: 240.85,
                    change: 2.15,
                    changePercent: 0.90
                }
            };
            
            return staticData[symbol] || null;
        }

        // Load static data as fallback
        async function loadStaticPortfolioData(container) {
            const portfolioSymbols = ['PLTR', 'NVDA', 'OXY', 'AMZN', 'BRK.B', 'META', 'SPGI', 'AAPL', 'GOOGL', 'SNOW', 'C', 'BAC', 'SIRI', 'LLYVK', 'NU', 'UNP'];
            
            portfolioSymbols.forEach(symbol => {
                const staticData = getStaticCompanyData(symbol);
                if (staticData) {
                    createPortfolioCard(staticData, container);
                }
            });
        }

        // Helper functions for data processing
        function getCompanyName(symbol) {
            const names = {
                'PLTR': 'Palantir Technologies Inc.',
                'NVDA': 'NVIDIA Corporation',
                'OXY': 'Occidental Petroleum Corporation',
                'AMZN': 'Amazon.com, Inc.',
                'BRK.B': 'Berkshire Hathaway Inc. Class B',
                'META': 'Meta Platforms, Inc.',
                'SPGI': 'S&P Global Inc.',
                'AAPL': 'Apple Inc.',
                'GOOGL': 'Alphabet Inc. Class A',
                'SNOW': 'Snowflake Inc.',
                'C': 'Citigroup Inc.',
                'BAC': 'Bank of America Corporation',
                'SIRI': 'Sirius XM Holdings Inc.',
                'LLYVK': 'Liberty Media Corporation',
                'NU': 'Nu Holdings Ltd.',
                'UNP': 'Union Pacific Corporation'
            };
            return names[symbol] || symbol;
        }

        function getSector(symbol) {
            const sectors = {
                'PLTR': 'Software Infrastructure',
                'NVDA': 'Semiconductors',
                'OXY': 'Oil & Gas',
                'AMZN': 'E-commerce & Cloud',
                'BRK.B': 'Conglomerate',
                'META': 'Social Media',
                'SPGI': 'Financial Data',
                'AAPL': 'Consumer Electronics',
                'GOOGL': 'Search & Cloud',
                'SNOW': 'Cloud Data Platform',
                'C': 'Banking',
                'BAC': 'Banking',
                'SIRI': 'Satellite Radio',
                'LLYVK': 'Media Holding',
                'NU': 'Digital Banking',
                'UNP': 'Transportation'
            };
            return sectors[symbol] || 'N/A';
        }

        function getInvestmentThesis(symbol) {
            const theses = {
                'PLTR': 'AI-powered data analytics platform with expanding commercial momentum and strong government contracts.',
                'NVDA': 'Dominant AI chip manufacturer with pricing power and expanding data center demand.',
                'OXY': 'Low-cost oil producer with carbon capture technology and disciplined capital allocation.',
                'AMZN': 'Diversified tech giant with dominant cloud infrastructure and expanding AI services.',
                'BRK.B': 'Quality conglomerate with diversified cash-generating businesses and strong capital allocation.',
                'META': 'Leading social platform with AI advertising optimization and metaverse investments.',
                'SPGI': 'Essential financial infrastructure with recurring revenue and pricing power.',
                'AAPL': 'Premium ecosystem with loyal user base and expanding services monetization.',
                'GOOGL': 'Dominant search with growing cloud business and AI integration across products.',
                'SNOW': 'Leading cloud data warehouse with strong consumption growth and AI integration.',
                'C': 'Undervalued global bank with transformation potential and attractive dividend yield.',
                'BAC': 'Leading consumer bank positioned for rising rate environment with strong deposit base.',
                'SIRI': 'Stable subscription model with high margins and strong free cash flow generation.',
                'LLYVK': 'Holding company with controlling stake in SiriusXM and other media assets.',
                'NU': 'Leading Latin American neobank with rapid customer growth and expanding product suite.',
                'UNP': 'Leading railroad franchise with pricing power, operational efficiency improvements, and strong cash generation.'
            };
            return theses[symbol] || 'Strong fundamentals with attractive risk-adjusted returns.';
        }

        function formatValue(value) {
            if (!value || isNaN(value)) return 'N/A';
            if (value >= 1e12) return `$${(value / 1e12).toFixed(1)}T`;
            if (value >= 1e9) return `$${(value / 1e9).toFixed(1)}B`;
            if (value >= 1e6) return `$${(value / 1e6).toFixed(1)}M`;
            if (value >= 1e3) return `$${(value / 1e3).toFixed(1)}K`;
            return `$${value.toFixed(2)}`;
        }

        // Real-time ticker update with current prices
        async function updateTickerWithRealPrices() {
            const portfolioSymbols = ['PLTR', 'NVDA', 'OXY', 'AMZN', 'BRK.B', 'META', 'SPGI', 'AAPL', 'GOOGL', 'SNOW', 'C', 'BAC', 'SIRI', 'LLYVK', 'NU', 'UNP'];
            const ticker = document.getElementById('ticker');
            
            try {
                // Fetch current prices for ticker
                const promises = portfolioSymbols.map(async (symbol) => {
                    try {
                        const data = await fetchComprehensiveCompanyData(symbol);
                        const price = data?.currentPrice || getStaticCompanyData(symbol)?.currentPrice || 0;
                        const change = data?.change || getStaticCompanyData(symbol)?.change || 0;
                        const changePercent = data?.changePercent || getStaticCompanyData(symbol)?.changePercent || 0;
                        
                        const changeSymbol = change >= 0 ? '+' : '';
                        return `${symbol}: $${price.toFixed(2)} (${changeSymbol}${changePercent.toFixed(2)}%)`;
                    } catch {
                        const staticData = getStaticCompanyData(symbol);
                        if (staticData) {
                            const changeSymbol = staticData.change >= 0 ? '+' : '';
                            return `${symbol}: $${staticData.currentPrice.toFixed(2)} (${changeSymbol}${staticData.changePercent.toFixed(2)}%)`;
                        }
                        return `${symbol}: N/A`;
                    }
                });
                
                const tickerItems = await Promise.all(promises);
                const tickerText = '📊 ' + tickerItems.join(' | ');
                
                if (ticker) {
                    ticker.textContent = tickerText;
                }
            } catch (error) {
                console.warn('Failed to update ticker with real prices:', error);
            }
        }

        // Economic Calendar Integration
        function loadEconomicCalendar() {
            // Add TradingView Economic Calendar widget
            const calendarContainer = document.createElement('div');
            calendarContainer.innerHTML = `
                    </div>
                </div>
            `;
            
            // Insert after portfolio viz
            const portfolioViz = document.querySelector('.portfolio-viz');
            if (portfolioViz && portfolioViz.parentNode) {
                portfolioViz.parentNode.insertBefore(calendarContainer, portfolioViz.nextSibling);
            }
        }


        // Forge/EquityZen availability checker (simulated)
        function checkPrivateMarketAvailability() {
            const platforms = ['Forge', 'EquityZen', 'Nasdaq Private Market', 'Hiive'];
            const availabilityData = {};
            
            // Simulate availability data
            const companies = ['SpaceX', 'Stripe', 'Databricks', 'Discord', 'Canva', 'Anthropic'];
            companies.forEach(company => {
                availabilityData[company] = platforms[Math.floor(Math.random() * platforms.length)];
            });
            
            return availabilityData;
        }

        // Initialize animations when page loads
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            updateTicker();
            initializeAI();
            
            // Initialize financial data integrations with real-time APIs
            fetchPortfolioFundamentals();
            updatePortfolioData();
            updateTickerWithRealPrices();
            loadEconomicCalendar();
            
            // Set up periodic updates for real-time data
            setInterval(() => {
                updateTickerWithRealPrices();
            }, 30000); // Update ticker every 30 seconds
            
            setInterval(() => {
                fetchPortfolioFundamentals();
            }, 300000); // Update portfolio data every 5 minutes
            
            // Add scroll animations to sections
            document.querySelectorAll('section').forEach(section => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(30px)';
                section.style.transition = 'all 0.6s ease';
                observer.observe(section);
            });
        });

        // Mobile menu toggle
        document.querySelector('.menu-toggle').addEventListener('click', function() {
            document.querySelector('.nav-links').classList.toggle('active');
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                document.querySelector('.nav-links').classList.remove('active');
            });
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add hover effects for project cards
        document.querySelectorAll('.project-card, .lesson-card, .holding-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-8px) rotateX(5deg)';
                this.style.boxShadow = '0 20px 40px rgba(0,0,0,0.3)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) rotateX(0deg)';
                this.style.boxShadow = '';
            });
        });
    </script>
</body>
</html>
